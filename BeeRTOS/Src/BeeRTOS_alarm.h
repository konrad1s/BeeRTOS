/******************************************************************************************
 * @brief OS alarm header file
 * @file BeeRTOS_alarm.h
 * ****************************************************************************************/

#ifndef __BEERTOS_ALARM_H__
#define __BEERTOS_ALARM_H__

/******************************************************************************************
 *                                        INCLUDES                                        *
 ******************************************************************************************/

#include "Beertos_internal.h"
#include "BeeRTOS_alarm_cfg.h"

/******************************************************************************************
 *                                         DEFINES                                        *
 ******************************************************************************************/

/******************************************************************************************
 *                                        TYPEDEFS                                        *
 ******************************************************************************************/

typedef struct
{
    uint32_t    period;
    bool        periodic;
    void        (*callback)(void);
} os_alarm_t;

/******************************************************************************************
 *                                    GLOBAL VARIABLES                                    *
 ******************************************************************************************/

/******************************************************************************************
 *                                   FUNCTION PROTOTYPES                                  *
 ******************************************************************************************/

void os_alarms_init(void);
void os_alarm_start(os_alarm_id_t alarm_id, uint32_t period, bool periodic);
void os_alarm_cancel(os_alarm_id_t alarm_id);
void os_alarm_tick(void);

#endif /* __BEERTOS_ALARM_H__ */